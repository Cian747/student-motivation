<section id = "profile">
  <app-navbar></app-navbar>

  <div class="container">
    <div class="main-body">
      <div class="row">
        <div class="col-lg-4">
          <div class="card">
            <div class="card-body">
              <div class="d-flex flex-column align-items-center text-center">
                <img src="{{profile.profile_photo}}" alt="Admin" class="rounded-circle p-1 bg-primary" width="110">
                <div class="mt-3">
                  <h4>{{profile.user}}</h4>
                  <div *ngIf="currentUser.is_superuser">
                    Admin
                  </div>
                  <div *ngIf="!currentUser.is_superuser">
                    Student
                  </div>
                  <p class = "email">{{profile.profile_email}}</p>
                  <p class = "phone">{{profile.phone_number}}</p>
                  <p class="text-muted font-size-sm mt-2">Joined on {{profile.created_at|date}}</p>
                  <!-- <button class="btn btn-outline-primary">Message</button> -->
                </div>
              </div>
              <hr class="my-4">




            </div>
          </div>
        </div>
        <div class="col-lg-8">
          <div class="card">
            <div class="card-body">
              <!-- <div class="row mb-3">
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" value= "">
                </div>
              </div> -->
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Email</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" (change) = "onEmailChange($event)" [(ngModel)] = "profile.profile_email">
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Phone</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" (change) = "onPhoneChange($event)" [(ngModel)] = "profile.phone_number">
                </div>
              </div>
              <!-- <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Category preference</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" [(ngModel)]='profile.category.category_name'>
                </div>
              </div> -->
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Profile Pic</h6>
                </div>
                <div class="col-sm-9 text-secondary"> 
                  <input type="file" class="form-control" (change) =" onImageChange($event)" [(ngModel)] = profile.profile_photo >
                </div>
              </div>
              <div class="row">
                <div class="col-sm-3"></div>
                <div class="col-sm-9 text-secondary">
                  <input  (click)="profileUpdate()" type="button" class="btn btn-primary px-4" value="Save Changes">
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12">
              <div class="card">
                <div class="card-body">
                  <h5 class="d-flex align-items-center mb-3">My Preferences</h5>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
